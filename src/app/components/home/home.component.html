<app-page-layout title="My Todo Lists">
    <div class="lists-grid" cdkDropListGroup>
        <div class="list-column">
            <h2>ðŸ“‹ To Do</h2>
            <div
                class="list-items"
                cdkDropList
                [cdkDropListData]="listsToDo"
                id="todoList"
                [cdkDropListConnectedTo]="['progressList']"
                (cdkDropListDropped)="onListDropped($event)"
            >
                @for (list of listsToDo; track list.id) {
                    <app-list-display
                        cdkDrag
                        [cdkDragData]="list"
                        [list]="list"
                        [isExpanded]="isListExpanded(list.id)"
                        (toogleList)="toogleList(list.id)"
                    ></app-list-display>
                }
                @if (!listsToDo || listsToDo.length === 0) {
                    <p class="empty-state">No lists yet</p>
                }
                <!-- Your lists will go here -->
            </div>
        </div>

        <div class="list-column">
            <h2>ðŸ”„ In Progress</h2>
            <div
                class="list-items"
                cdkDropList
                [cdkDropListData]="listsProgress"
                id="progressList"
                [cdkDropListConnectedTo]="['todoList']"
                (cdkDropListDropped)="onListDropped($event)"
            >
                @for (list of listsProgress; track list.id) {
                    <app-list-display
                        cdkDrag
                        [cdkDragData]="list"
                        [list]="list"
                        [isExpanded]="isListExpanded(list.id)"
                        (toogleList)="toogleList(list.id)"
                    ></app-list-display>
                }
                @if (!listsProgress || listsProgress.length === 0) {
                    <p class="empty-state">No lists yet</p>
                }
            </div>
        </div>
    </div>

    <div class="actions">
        <button class="btn-primary" (click)="onCreateList()">+ Add New List</button>
        <button class="btn-secondary" (click)="onViewDoneLists()">âœ… View Done Lists</button>
    </div>
</app-page-layout>
